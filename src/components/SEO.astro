---
// Componente SEO Optimizado para Almacenajes Mini Depósitos
// Configuración completa para SEO 100%, Open Graph, Twitter Cards, Schema.org

export interface Props {
  title: string;
  description: string;
  keywords: string;
  canonical?: string;
  ogImage?: string;
  ogType?: string;
  twitterCard?: string;
  lang?: string;
  alternateUrl?: string;
  alternateLang?: string;
}

const {
  title,
  description,
  keywords,
  canonical = Astro.url.href,
  ogImage = '/Images/og-image.webp',
  ogType = 'website',
  twitterCard = 'summary_large_image',
  lang = 'es',
  alternateUrl,
  alternateLang
} = Astro.props;

const siteName = 'Almacenajes Mini Depósitos';
const siteUrl = 'https://almacenajes-minidepositos.com';

// Schema.org structured data
const schemaData = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "Almacenajes Mini Depósitos",
  "description": description,
  "url": siteUrl,
  "logo": `${siteUrl}/Images/logo.webp`,
  "image": `${siteUrl}${ogImage}`,
  "telephone": "+507 224-1111",
  "email": "info@almacenajes.net",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Vía España",
    "addressLocality": "Ciudad de Panamá",
    "addressCountry": "PA"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "8.9936",
    "longitude": "-79.5197"
  },
  "openingHours": [
    "Mo-Su 06:00-18:00"
  ],
  "priceRange": "$$",
  "serviceArea": {
    "@type": "City",
    "name": "Ciudad de Panamá"
  },
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Servicios de Almacenamiento",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Mini Depósitos",
          "description": "Espacios de almacenamiento seguros de diferentes tamaños"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Self Storage",
          "description": "Almacenamiento personal y comercial 24/7"
        }
      }
    ]
  },
  "sameAs": [
    "https://www.facebook.com/almacenajes",
    "https://www.instagram.com/almacenajes"
  ]
};
---

<!-- Primary Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />
<meta name="keywords" content={keywords} />
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
<meta name="language" content={lang} />
<meta name="revisit-after" content="7 days" />
<meta name="author" content="Almacenajes Mini Depósitos" />

<!-- Canonical URL -->
<link rel="canonical" href={canonical} />

<!-- Hreflang for international SEO -->
{alternateUrl && alternateLang && (
  <link rel="alternate" hreflang={alternateLang} href={alternateUrl} />
)}
<link rel="alternate" hreflang="es" href={lang === 'es' ? canonical : alternateUrl || canonical} />
<link rel="alternate" hreflang="en" href={lang === 'en' ? canonical : alternateUrl || canonical} />
<link rel="alternate" hreflang="x-default" href={lang === 'es' ? canonical : alternateUrl || canonical} />

<!-- Open Graph / Facebook -->
<meta property="og:type" content={ogType} />
<meta property="og:url" content={canonical} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={`${siteUrl}${ogImage}`} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:type" content="image/webp" />
<meta property="og:site_name" content={siteName} />
<meta property="og:locale" content={lang === 'es' ? 'es_PA' : 'en_US'} />

<!-- Twitter -->
<meta property="twitter:card" content={twitterCard} />
<meta property="twitter:url" content={canonical} />
<meta property="twitter:title" content={title} />
<meta property="twitter:description" content={description} />
<meta property="twitter:image" content={`${siteUrl}${ogImage}`} />

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="icon" type="image/png" href="/favicon.png" />

<!-- DNS prefetch for external domains -->
<link rel="dns-prefetch" href="//api.mapbox.com" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />

<!-- Schema.org structured data -->
<script type="application/ld+json" set:html={JSON.stringify(schemaData)} />

<!-- Additional meta for mobile and PWA -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<meta name="theme-color" content="#EF7B34" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="apple-mobile-web-app-title" content={siteName} />

<!-- Security headers -->
<meta http-equiv="X-Content-Type-Options" content="nosniff" />
<meta http-equiv="X-Frame-Options" content="DENY" />
<meta http-equiv="X-XSS-Protection" content="1; mode=block" />
